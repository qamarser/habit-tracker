<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Track daily habits and grow in life healthier and wiser" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>Loop Habit Tracker</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <!-- Fallback route handling for SPAs -->
    <script type="module">
      // This script ensures proper routing for Vite in development and production.
      if (!window.location.origin.includes('localhost')) {
        const origin = window.location.origin;
        const pathname = window.location.pathname;

        // Check if the file exists on the server
        fetch(pathname, { method: 'HEAD' })
          .then((res) => {
            if (!res.ok) {
              // Redirect to the root for non-existing files
              window.location.href = origin;
            }
          })
          .catch(() => {
            window.location.href = origin; // Fallback in case of network errors
          });
      }
    </script>
  </body>
</html>
